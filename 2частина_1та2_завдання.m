clc; clear; close all;

% === Вхідні дані ===
% Кількість пасажирів (рядок 1), вантажопідйомність у кг (рядок 2)
X = [ 2   3   4   2   4   3   6   7   5   8   6   9;
     300 400 450 200 500 480 600 700 800 1000 1200 1300 ];

% === Вихідні мітки ===
% 1 — легкові (пасажири <= 4 і вага <= 500), 0 — вантажні
T = [1 1 1 1 1 1 0 0 0 0 0 0];

% === Створення персептрона ===
net = perceptron;
net.trainFcn = 'trainc';
net.inputWeights{1,1}.learnFcn = 'learnpn';

% === Навчання ===
net = train(net, X, T);

% === Перевірка результатів ===
Y = net(X);
disp('Цільові класи:');
disp(T);
disp('Результати класифікації:');
disp(Y);

% === Побудова простору класифікації ===
[x1Grid, x2Grid] = meshgrid(0:0.25:10, 100:25:1500);
gridX = [x1Grid(:)'; x2Grid(:)'];
gridY = net(gridX);

% === Візуалізація ===
figure;
gscatter(X(1,:), X(2,:), T, 'rb', 'ox', 8);
hold on;

% Візуалізація зони класифікації кольором
scatter(gridX(1,:), gridX(2,:), 10, gridY, 'filled', 'MarkerFaceAlpha', 0.1);

title('Класифікація автомобілів (персептрон)');
xlabel('Кількість пасажирських місць');
ylabel('Вантажопідйомність (кг)');
legend('Легкові', 'Вантажні');
grid on;
